**词法分析任务内容**
词法分析是从左至右逐个字符的对源程序进行扫描，产生一个个的单词符号，把作为字符串的源程序改造成为由单词符号串组成的程序。词法分析器工作过程为源程序—>词法分析器—>单词符号。此处引入单词符号概念：指语言中具有独立意义的最小的语法符号。单词符号常用二元式<单词种别，单词符号的属性值>表示，其中单词符号的属性值指反映单词特性或特征的值。  词法分析器由输入缓冲区、预处理子程序，扫描缓冲区、扫描器组成。输入缓冲区、预处理子程序将预处理好的子程序放到扫描缓冲区中，扫描缓冲区、扫描器直接进行单词的识别。
**相对上次的改进**
1.关键字、界符等改为用枚举类型表示
  ```
  static std::unordered_map<string, Token_type> reserveWord{
   {{"extern"}, TK_EXTERN},
       {{"typedef"}, TK_TYPEDEF},
       {{"number"}, TK_NUMBERTYPE},
       {{"char"}, TK_CHARTYPE},
       {{"string"}, TK_STRINGTYPE},
       {{"void"}, TK_VOID},
       {{"struct"}, TK_STRUCT},
       {{"bool"}, TK_BOOL},
       {{"if"}, TK_IF},
       {{"else"}, TK_ELSE},
       {{"for"}, TK_FOR},
       {{"do"}, TK_DO},
       {{"while"}, TK_WHILE},
       {{"switch"}, TK_SWITCH},
       {{"case"}, TK_CASE},
       {{"default"}, TK_DEFAULT},
       {{"break"}, TK_BREAK},
       {{"continue"}, TK_CONTINUE},
       {{"new"}, TK_NEW},
       {{"delete"}, TK_DELETE},
       {{"main"}, TK_MAIN},
       {{"return"}, TK_RETURN},
       {{"sizeof"}, TK_SIZEOF},
}; 
```
2.添加Token结构体get_token()，便于后期移植
```
Token get_token() {
   Scanner();
   ++colomn_num;
   // output
   int len = strlen(token);
   char *name = new char[len + 1];
   strcpy(name, token);
   return {name, syn, line_num, colomn_num};
} 
```
3.更改转义字符的识别方式
 ```
int getEscapeChar(int ch) {
   switch (ch) {
       case '\\':
           return '\\';
           break;
       case '\'':
           return '\'';
           break;
       case '\"':
           return '"';
           break;
       case 'n':
           return '\n';
           break;
       case 't':
           return '\t';
           break;
       case 'r':
           return '\r';
           break;
       case 'v':
           return '\v';
           break;
       case 'a':
           return '\a';
           break;
       case 'b':
           return '\b';
           break;
       case 'f':
           return '\f';
           break;
       default:
           cout << "Escape character error";
           exit(1); // TODO: 报错
   }
} 
```
4.更改源文件输入方式
 ```
Init_lexer("testfile.txt"); 
```
5.对多个函数进行优化，提升运行效率和严密性
 ```
Token_type searchReserve(char *token) 
bool IsLetter(char letter) 
bool IsDigit(char digit)
void filterResource() 
void Scanner()等 
```
**心得体会**
完成了这次词法分析的程序设计，我收获很多，也体会很多，要学好一门学科，没有刻苦钻研的精神是不行的，只有在不断的尝试中，不断经历失败，  
然后又不断的尝试才能获得成功。经过无数次的修改从而使程序更全面，更透彻。在调试过程中学习的知识得到了完善和补充，对词法分析器的理解更  
进一步。这次的程序训练培养了我实际分析问题、编程和动手能力，培养我们的独立思考、求异思维，创新能力，使我们获得更多的知识和更强的能力。
